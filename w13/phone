# include <stdio.h>
# include <string.h>

struct Book
{
    char Name[50];
    char Phone[50];
    char Email[50];
};

int main()
{
    struct Book b[100];
    int n = 0,i;
    FILE *in;
    FILE *out;
    char str[50];
    char op;
    
    while(1)
    {
        puts("i Enter");
        puts("l print");
        puts("s save");
        puts("o read");
        puts("c delete");
        puts("q quit");
        printf("> ");
        scanf(" %c",&op);
        switch(op)
        {
        case'i':
            puts("Enter......");
            puts("Name:");
            scanf("%s",b[n].Name);
            puts("Phone:");
            scanf("%s",b[n].Phone);
            puts("Email");
            scanf("%s",b[n].Email);
            n++;
            printf("Success\n");
            break;
            
        case'l':
            puts("print.....");
            for(i=0;i<n;i++)
            {
                printf("No.%d:\n",i+1);
                printf("%s\n",b[i].Name);
                printf("%s\n",b[i].Phone);
                printf("%s\n\n",b[i].Email);
            }
            break;
            
        case's':
            puts("Enter(.txt)");
            scanf("%s",&str);
            out = fopen(str,"w");
            for(i=0;i<n;i++)
            {
                fprintf(out,"%d\n",i+1);
                fprintf(out,"%s\n",&b[i].Name);
                fprintf(out,"%s\n\n",&b[i].Email);
                
            }
            fclose(out);
            break;
        case'o':
            do
            {
                n=0;
                puts("Enter(.txt)");
                scanf("%s",&str);
                in = fopen(str,"r");
                fscanf(in,"%d\n",&n);
            }
            while(in==NULL);
            
        }
    }
}
